<template>
  <ux-dialog>
    <ux-dialog-header>
      <h6>${ model.id ? 'Edit' : 'New' } User</h6>
    </ux-dialog-header>
    <ux-dialog-body>
      <form submit.delegate="save()" vt-loading-form-indicator>
        <div>
          <label for="displayNameInput">Display Name</label>
          <span class="u-error"></span>
          <input type="text" id="displayNameInput" class="u-full-width" attach-focus="true" value.bind="model.displayName & validate" />
        </div>

        <div>
          <label for="emailAddressInput">Email Address</label>
          <span class="u-error"></span>
          <input type="email" id="emailAddressInput" class="u-full-width" value.bind="model.emailAddress & validate" />
        </div>

        <div>
          <label for="roleInput">Role</label>
          <span class="u-error"></span>
          <select id="roleInput" value.bind="model.roleId & validate" class="u-full-width">
            <option repeat.for="role of roles" model.bind="role.Key">${ role.Value }</option>
          </select>
        </div>

        <button type="submit" show.bind="false">Save</button>
      </form>
    </ux-dialog-body>
    <ux-dialog-footer>
      <button class="button-primary" click.trigger="save()" vt-loading-indicator>Save</button>
      <button click.trigger="cancel()" vt-loading-indicator>Cancel</button>
    </ux-dialog-footer>
  </ux-dialog>
</template>
