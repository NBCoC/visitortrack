<template>
  <div id="search-page" class="page columns">
    <div class="column">
      <h1 class="title has-text-centered is-5">Visitor Search</h1>

      <form submit.delegate="search(searchControl.value)" visitor-track-loading-form-indicator>
        <div class="field has-addons">
          <div class="control full-width">
            <input class="input" type="text" placeholder="Visitor search..." ref="searchControl">
          </div>
          <div class="control">
            <button type="submit" class="button is-info">
              <span class="icon">
                <i class="oi" data-glyph="magnifying-glass"></i>
              </span>
              <span>Search</span>
            </button>
          </div>
        </div>
      </form>

      <table class="table is-hoverable">
        <thead>
          <tr>
            <th>Name</th>
            <th>Status</th>
            <th>Age Group</th>
          </tr>
        </thead>
        <tbody>
          <tr repeat.for="item of searchResult | sortBy : 'fullName'">
            <td>
              <a href="#/main/visitor/${ item.id }">${ item.fullName }</a>
            </td>
            <td>${ item.statusName }</td>
            <td>${ item.ageGroupName }</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>
