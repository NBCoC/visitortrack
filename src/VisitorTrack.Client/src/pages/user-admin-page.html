<template>
  <div id="user-admin-page" class="page columns">
    <div class="column">
      <h1 class="title has-text-centered is-5">User Administration</h1>

      <table class="table is-hoverable">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>
              <button class="button is-info is-small" click.trigger="upsertUser()">
                <span class="icon">
                  <i class="oi" data-glyph="plus"></i>
                </span>
              </button>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr repeat.for="item of users | sortBy : 'displayName'">
            <td>
              ${ item.displayName }
            </td>
            <td>${ item.emailAddress }</td>
            <td>${ item.roleName }</td>
            <td>
              <div class="field is-grouped">
                <p class="control">
                  <button class="button is-primary is-small" click.trigger="upsertUser(item)">
                    <span class="icon">
                      <i class="oi" data-glyph="pencil"></i>
                    </span>
                  </button>
                </p>
                <p class="control">
                  <button class="button is-danger is-small" click.trigger="deleteUser(item)">
                    <span class="icon">
                      <i class="oi" data-glyph="trash"></i>
                    </span>
                  </button>
                </p>
                <p class="control">
                  <button class="button is-warning is-small" click.trigger="resetPassword(item)">
                    <span class="icon">
                      <i class="oi" data-glyph="key"></i>
                    </span>
                  </button>
                </p>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>
